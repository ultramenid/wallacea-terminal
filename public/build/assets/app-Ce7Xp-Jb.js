var d=Object.defineProperty;var p=(s,t,e)=>t in s?d(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var c=(s,t,e)=>(p(s,typeof t!="symbol"?t+"":t,e),e);const u=class u{constructor(t){this.value=t}isTop(){return this.value===u.Top}};c(u,"Top","top");let h=u;class l{constructor(t,e,i,r){this.alignment=new h(t),this.duration=e,this.replace=i,this.suppress=r}static fromJson(t){return new l(t.alignment,t.duration,t.replace,t.suppress)}}function m(){let s="";for(;s.length<32;)s+=Math.random().toString(16).substring(2);const t=(Number.parseInt(s.substring(16,1),16)&3|8).toString(16);return`${s.substring(0,8)}-${s.substring(8,4)}-4${s.substring(13,3)}-${t}${s.substring(17,3)}-${s.substring(20,12)}`}class o{constructor(t,e,i){this.$el=null,this.id=m(),this.isVisible=!1,this.duration=t,this.message=e,this.timeout=null,this.trashed=!1,this.type=i}static fromJson(t){return new o(t.duration,t.message,t.type)}dispose(){this.timeout&&clearTimeout(this.timeout),this.isVisible=!1,this.$el&&(this.$el.addEventListener("transitioncancel",()=>{this.trashed=!0}),this.$el.addEventListener("transitionend",()=>{this.trashed=!0}))}equals(t){return this.duration===t.duration&&this.message===t.message&&this.type===t.type}runAfterDuration(t){this.timeout=setTimeout(()=>t(this),this.duration)}select(t){return t[this.type]}show(t){this.$el=t,this.isVisible=!0}}function f(s){s.data("toasterHub",(t,e)=>(e=l.fromJson(e),{_toasts:[],get toasts(){const i=this._toasts.filter(r=>!r.trashed);return this._toasts.length&&!i.length&&this.$nextTick(()=>{this._toasts=[]}),i},init(){document.addEventListener("toaster:received",i=>{const r=o.fromJson({duration:e.duration,...i.detail});if(e.replace)this.toasts.filter(n=>n.equals(r)).forEach(n=>n.dispose());else if(e.suppress&&this.toasts.some(n=>n.equals(r)))return;this.show(r)}),t.map(o.fromJson).forEach(i=>this.show(i))},show(i){i=s.reactive(i),i.runAfterDuration(r=>r.dispose()),e.alignment.isTop()?this._toasts.unshift(i):this._toasts.push(i)}}))}const a=(s,t)=>{document.dispatchEvent(new CustomEvent("toaster:received",{detail:{message:s,type:t}}))},g=s=>a(s,"error"),b=s=>a(s,"info"),w=s=>a(s,"success"),v=s=>a(s,"warning"),$=Object.freeze(Object.defineProperty({__proto__:null,error:g,info:b,success:w,warning:v},Symbol.toStringTag,{value:"Module"}));window.Toaster=$;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(f)});
